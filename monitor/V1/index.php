<!-- monitor/index.php --><?php
declare(strict_types=1);
require_once __DIR__ . '/../../includes/core/config.php'; ?>

<!DOCTYPE html><html lang="fr"><head>  <meta charset="UTF-8" />  <meta name="viewport" content="width=device-width, initial-scale=1" />  <title>🎛️ Monitoring NDI - PC de Stream</title>  <link rel="stylesheet" href="/style/monitor.css" />  <link rel="stylesheet" href="/style/monitor.css" />  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>  <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-annotation@1.1.0"></script>    <script src="../script/script.js" defer></script>  <script src="/script/monitor.js" defer></script>  </head><body>  <h1>🎛️ Monitoring NDI – PC de Stream</h1>  <!-- Bloc 1 : État du flux -->  <div class="status-bar">    État du flux : <span id="flux-status">🔴 Inactif</span>  </div>  <!-- Bloc 2 : Métriques principales -->  <div class="metrics">    <h2>Métriques NDI</h2>    <div class="metrics-grid">      <div class="metric">📶 Latence : <div id="latency">-- ms</div></div>      <div class="metric">🔄 Jitter : <div id="jitter">-- ms</div></div>      <div class="metric">📉 Frames Dropped : <div id="frames">--</div></div>      <div class="metric">🔊 Décalage Audio : <div id="audio-delay">-- ms</div></div>    </div>  </div>  <!-- Bloc 3 : Zone graphique -->  <div class="graph">    <h2>Graphique de synchronisation</h2>    <canvas id="syncGraph"></canvas>  </div>  <!-- Bloc 4 : Diagnostic -->  <div class="diagnostic">    <h2>🧪 Mode Diagnostic</h2>    <button id="start-record">🎬 Lancer enregistrement test</button>    <button id="analyze-sync">📊 Analyser la synchro</button>    <button id="export-json">📄 Export JSON</button>    <button id="export-csv">📄 Export CSV</button>    <pre id="diagnostic-log">Aucun test lancé pour le moment.</pre>      <div class="alert-zone" id="sync-alert" hidden>        ⚠️ Désynchronisation audio détectée      </div>      <div class="settings">        <label for="tolerance">Tolérance (ms) : </label>        <input type="number" id="tolerance" value="10" min="1" max="100" step="1" />        <label><input type="checkbox" id="enable-beep" /> Activer bip sonore</label>      </div>    </div>  <!-- Bloc 5 : Checklist projet Monitor --><section class="project" data-target="monitor" tabindex="0" aria-expanded="false" aria-controls="monitor-details">  <h2 class="project-title">✅ Checklist – Projet Monitor</h2>  <div class="project-details" id="monitor-details" hidden>    <ul class="checklist">      <li class="done">Structure HTML de base de la page</li>      <li class="done">Lien vers CSS global et monitor.css</li>      <li class="done">Script JS de simulation (valeurs dynamiques)</li>      <li class="done">Affichage visuel des métriques</li>      <li class="done">Graphique en temps réel (latence + audio delay)</li>      <li class="done">Statut du flux actif/inactif</li>      <li class="done">Diagnostic visuel (boutons et log zone)</li>      <li class="in-progress">Interaction JS avec les boutons diagnostic</li>      <li class="todo">Ajout d’un export CSV et JSON des données collectées</li>      <li class="todo">Connexion à de vraies données NDI (latence réelle)</li>      <li class="todo">Responsive design et accessibilité clavier</li>      <li class="todo">Ajout de commentaires de code et README local</li>    </ul>  </div></section></body></html>