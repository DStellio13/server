/* =========================================================
   Global Theme & Base ‚Äî htdocs/style/style.css
   - Dark par d√©faut via :root
   - Light opt-in via :root[data-theme="light"]
   - Composants g√©n√©riques (card, chip, boutons)
   - Styles hub (projets), arborescence, checklists
   ========================================================= */

/* ==== THEME CORE (global) ===================================== */
/* üé® Palette principale (dark par d√©faut, light en opt-in) */
:root {
  /* Mode sombre */
  --bg:        #0b0f14;   /* Fond principal */
  --bg-soft:   #11161d;   /* Fond secondaire (panneaux, headers) */
  --bd:        #1f2937;   /* Bordures */
  --fg:        #e5e7eb;   /* Texte normal */
  --fg-muted:  #9aa4b2;   /* Texte att√©nu√© */
  --fg-strong: #ffffff;   /* Titres / accent fort */
  --accent:    #4f46e5;   /* Accent global (liens, boutons) */
  --chip:      #18202a;   /* Fond des chips */
  --card-bg:   #1a1f29;   /* Surface des cartes/projets (plus claire que --bg) */

  color-scheme: dark;
}

:root[data-theme="light"] {
  /* Mode clair */
  --bg:        #f7fafc;
  --bg-soft:   #ffffff;
  --bd:        #e5e7eb;
  --fg:        #111827;
  --fg-muted:  #6b7280;
  --fg-strong: #0b0f14;
  --accent:    #111827;
  --chip:      #f3f4f6;
  --card-bg:   #ffffff;

  color-scheme: light;
}

/* ==== Reset & Base ============================================ */
/* ‚öôÔ∏è R√©initialisation globale et typographie */
* { box-sizing: border-box; margin: 0; padding: 0; }
html, body { height: 100%; }
body {
  background: var(--bg);
  color: var(--fg);
  line-height: 1.5;
  -webkit-font-smoothing: antialiased;
  font: 15px/1.5 system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
}
img { max-width: 100%; display: block; }

/* üìù Titres globaux */
h1, h2, h3, h4, h5, h6 { color: var(--fg-strong); margin-top: 0; }
h1 { font-size: 2rem; margin-bottom: 1rem; }
h2 { font-size: 1.3rem; margin: 1rem 0 .5rem; }

/* üîó Liens et boutons */
a { color: var(--accent); text-decoration: none; }
a:hover, a:focus { text-decoration: underline; }
button {
  background: var(--bg-soft);
  border: 1px solid var(--bd);
  color: var(--fg);
  padding: .55rem .8rem;
  border-radius: 10px;
  cursor: pointer;
}

/* ==== Cartes & Panneaux ======================================= */
/* üóÇÔ∏è Composants globaux : cards, panels, projets */
.card, .project, .panel {
  background: var(--card-bg);
  border: 1px solid var(--bd);
  color: var(--fg);
  border-radius: 12px;
  box-shadow: 0 10px 25px rgba(0,0,0,.18);
}
/* üì¶ Panel = contenu d‚Äôune section (README, style, etc.) */
.panel {
  padding: 12px 14px;  /* √©vite les titres coll√©s et les marges qui s‚Äôeffondrent */
  overflow: hidden;    /* √©vite les d√©bords internes */
}
/* Espacement vertical entre panneaux */
.panel + .panel { margin-top: 16px; }
@media (min-width: 768px)  { .panel + .panel { margin-top: 20px; } }
@media (min-width: 1024px) { .panel + .panel { margin-top: 24px; } }

/* ==== Scrollbox & README ====================================== */
/* üìú Cadre scrollable pour README / docs */
.scrollbox {
  max-height: 70vh;
  overflow: auto;
  padding: 12px 14px;
  border-radius: 10px;
  background: var(--bg-soft);
  border: 1px solid var(--bd);
  box-shadow: 0 2px 10px rgba(0,0,0,.08);
}

/* üìñ Rendu Markdown (README.md) */
.md-body {
  overflow-wrap: anywhere;  /* casse les tr√®s longues URLs/mots */
  word-break: break-word;
}
.md-body h1 { font-size: 1.6rem; margin: 0 0 .75rem; }
.md-body h2 { font-size: 1.3rem; margin: 1rem 0 .5rem; }
.md-body h3 { font-size: 1.1rem; margin: .8rem 0 .35rem; }
.md-body p  { margin: .6rem 0; }
.md-body ul { margin: .4rem 0 .8rem 1.2rem; }
.md-body li { margin: .25rem 0; }

/* üíª Code dans README (blocs & inline) */
.md-body pre {
  background: #0f172a;
  border: 1px solid #1f2937;
  border-radius: 10px;
  padding: 10px 12px;
  overflow: auto;        /* scroll si ligne trop longue */
  margin: .6rem 0 .8rem;
  max-width: 100%;
}
.md-body code {
  background: color-mix(in oklab, var(--fg) 6%, transparent);
  border: 1px solid var(--bd);
  border-radius: 6px;
  padding: 0 .3em;
}
/* Images √©ventuelles dans la doc */
.md-body img { max-width: 100%; height: auto; display: block; }

/* ==== Chips =================================================== */
/* üè∑Ô∏è √âtiquettes simples r√©utilisables */
.chip {
  background: var(--chip);
  border: 1px solid var(--bd);
  color: var(--fg-muted);
  border-radius: 999px;
  font-size: .8rem;
  padding: .25rem .55rem;
}

/* ==== Conteneur g√©n√©rique ===================================== */
/* üìê Largeur max d‚Äôune page (layout de base) */
.container { max-width: 1100px; margin: 24px auto; padding: 0 16px; }

/* ===== Hub (page racine & grilles de projets) ================= */
/* üì∞ Header du hub */
.site-header {
  display: flex; align-items: center; justify-content: space-between;
  margin: 4px 0 16px;
}
/* Option : un peu plus d‚Äôair sous le header si besoin */
.site-header { margin-bottom: 20px; }
.site-header .header-right { display: flex; align-items: center; gap: .5rem; }

/* üè∑Ô∏è Tags & boutons ‚Äúghost‚Äù (secondaires) */
.tag {
  background: color-mix(in oklab, var(--accent) 20%, transparent);
  color: var(--fg);
  padding: .2rem .5rem;
  border-radius: 999px;
  font-size: .8rem;
  font-weight: 600;
  letter-spacing: .02em;
  border: 1px solid var(--bd);
}
.btn-ghost {
  background: transparent;
  border: 1px solid var(--bd);
  color: var(--fg);
  padding: .35rem .65rem;
  border-radius: 8px;
}
.btn-ghost:hover { background: color-mix(in oklab, var(--fg) 6%, transparent); }

/* üìä Grille de projets */
.projects-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(260px, 1fr));
  gap: 12px;
}

/* üìÅ Carte projet (dans la grille) */
.project {
  background: var(--bg-soft);
  border: 1px solid var(--bd);
  border-radius: 12px;
  padding: 10px 12px;
  box-shadow: 0 2px 10px rgba(0,0,0,.08);
  transition: transform .15s ease, box-shadow .15s ease, background .2s ease, outline-color .15s ease;
  outline-offset: 3px;
}
.project:hover, .project:focus {
  transform: translateY(-1px);
  box-shadow: 0 6px 16px rgba(0,0,0,.18);
  outline: 2px solid color-mix(in oklab, var(--accent) 35%, transparent);
  background: linear-gradient(180deg, color-mix(in oklab, var(--fg) 4%, transparent), transparent);
}
.project-title {
  display: flex; align-items: center; gap: .5rem;
  margin: 0; font-weight: 700; font-size: 1.05rem; color: var(--fg-strong);
}
.project-title .icon { vertical-align: middle; filter: drop-shadow(0 1px 0 rgba(0,0,0,.1)); }
.project-details {
  margin-top: 8px; padding-top: 8px;
  border-top: 1px dashed color-mix(in oklab, var(--fg) 12%, transparent);
  font-size: .95rem; color: var(--fg);
}

/* ‚úÖ Chips d‚Äô√©tat projet */
.chip-wip  {
  color: #fbbf24;
  border: 1px solid color-mix(in oklab, #fbbf24 45%, transparent);
  background: color-mix(in oklab, #fbbf24 12%, transparent);
}
.chip-ok   {
  color: #22c55e;
  border: 1px solid color-mix(in oklab, #22c55e 45%, transparent);
  background: color-mix(in oklab, #22c55e 12%, transparent);
}
.chip-todo {
  color: #9ca3af;
  border: 1px solid color-mix(in oklab, #9ca3af 45%, transparent);
  background: color-mix(in oklab, #9ca3af 12%, transparent);
}

/* Densit√© compacte (option) */
body.compact .project { padding: 8px 10px; }
body.compact .project-details { margin-top: 6px; padding-top: 6px; }
body.compact h2.project-title { font-size: 1rem; }

/* ===== Arborescence =========================================== */
/* üìÇ Bloc monospace (affiche Arborescence.txt / extraits) */
.arborescence {
  font-family: ui-monospace, SFMono-Regular, Menlo, Consolas, "Liberation Mono", monospace;
  background: var(--bg-soft);
  padding: 12px 16px;
  border-radius: 8px;
  margin-bottom: 2em;
  white-space: pre-wrap;
  color: var(--fg);
  border: 1px solid var(--bd);
}

/* ===== Checklists ============================================= */
/* ‚òëÔ∏è Styles pour checklists globales et projets */
#checklist { margin-top: 1em; }
#checklist h1 { font-size: 1.8rem; margin-bottom: 1em; }
#checklist section + section { margin-top: 1.8em; }
#checklist ul { list-style: none; padding-left: 0; }
#checklist li { margin-bottom: 8px; }
#checklist label { cursor: pointer; user-select: none; font-weight: 500; }
#checklist input[type="checkbox"] { margin-right: 8px; cursor: pointer; }

.checklist { list-style: none; margin-top: 10px; padding-left: 0; }
.checklist li { margin-bottom: 6px; padding-left: 18px; position: relative; font-weight: 500; }
.checklist li.done::before        { content: "‚úî"; color: #22c55e;  position: absolute; left: 0; }
.checklist li.in-progress::before { content: "‚û§"; color: #f59e0b;  position: absolute; left: 0; }
.checklist li.todo::before        { content: "‚Ä¢"; color: #9ca3af;  position: absolute; left: 0; }

/* ===== Utilitaires ============================================ */
/* ‚ÑπÔ∏è Helpers rapides */
.muted { color: var(--fg-muted); }
.hr    { height: 1px; background: var(--bd); border: 0; margin: 12px 0; }

/* ===== Sections g√©n√©riques header/list ======================== */
/* üîß Toolbars & ent√™tes de listes */
.header {
  display: flex; gap: 12px; align-items: center; justify-content: space-between; margin-bottom: 16px;
}
.title { display: flex; align-items: center; gap: 10px; }
.toolbar { display: flex; gap: 8px; flex-wrap: wrap; }
.toolbar .btn, .toolbar input, .toolbar select {
  border: 1px solid var(--bd);
  background: var(--bg-soft);
  border-radius: 10px;
  padding: 10px 12px;
  font: inherit;
  color: var(--fg);
}
.toolbar .btn { background: var(--accent); color: #fff; }
.toolbar input::placeholder { color: var(--fg-muted); }

/* ===== Listes g√©n√©riques ====================================== */
/* üìã Grilles de cards communes (utilis√©es par plusieurs projets) */
.list { display: grid; gap: 10px; margin-top: 12px; }
.empty {
  padding: 24px; text-align: center; color: var(--fg-muted);
  border: 1px dashed var(--bd); border-radius: 14px; background: var(--bg-soft);
}

/* ===== Dialog / Modal ========================================= */
/* ü™ü Fen√™tres modales r√©utilisables (√©dition, formulaires, etc.) */
dialog.modal {
  border: none; border-radius: 16px; padding: 0;
  width: min(92vw, 720px);
  box-shadow: 0 20px 60px rgba(0,0,0,.55);
  background: var(--bg-soft); color: var(--fg);
}
.modal header, .modal footer { padding: 14px 16px; border-bottom: 1px solid var(--bd); }
.modal header h3 { margin: 0; font-size: 1.2rem; color: var(--fg-strong); }
.modal .content { padding: 16px; display: grid; gap: 10px; }
.grid2 { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; }
.field { display: grid; gap: 6px; }
.field label { color: var(--fg-muted); }
.field input, .field select, .field textarea {
  border: 1px solid var(--bd); border-radius: 10px; padding: 10px 12px; font: inherit;
  background: var(--bg); color: var(--fg);
}
.modal footer { display: flex; justify-content: flex-end; gap: 8px; border-top: 1px solid var(--bd); }

/* ===== Conteneur de listes commun ============================= */
.card-list { display: grid; gap: 12px; }

/* =========================================================
   Fin
   ========================================================= */
